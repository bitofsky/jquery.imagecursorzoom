/**
 * jquery.imageCursorZoom
 * jQuery Plugin
 *
 * @author bitofsky@neowiz.com
 * @since 2015.09.10
 * @see https://github.com/bitofsky/jquery.imagecursorzoom
 * @license MIT
 * @version 1.0
 */
"use strict";!function(o,t){function e(e,i){function n(){c(0,0),g.attr("src",e.src),s()}function r(){u=this.clientWidth||g.width(),h=this.clientHeight||g.height(),s()}function s(){c(0,0),g.css({visibility:"visible"}),"function"==typeof d.oncreate&&d.oncreate.call(e,g,y)}function c(o,t){var e=l(o,b,m,u),i=l(t,Y,w,h);g.css("transform","translate("+e+"px, "+i+"px)")}function l(o,t,e,i){var n,r,s;return n=o-t,r=n/e>1?1:n/e,r=r>1?1:r,s=(e-i)*r,s=e>i?(e-i)/2:s,s=i>e&&s>0?0:s}function a(){m=+t(this).width(),w=+t(this).height()}function f(){g.remove(),y.remove(),v[0].style.overflowX=B,v[0].style.overflowY=C,v[0].style.position=D,"function"==typeof d.ondestroy&&d.ondestroy.call(e)}var u=e.clientWidth,h=e.clientHeight,d=t.extend(!0,{parent:"BODY",src:function(){return this.src},onerror:function(t){o.open(t)},ondestroy:null},i),p="function"==typeof d.src?d.src.call(e):d.src,v=t("function"==typeof d.parent?d.parent.call(e):d.parent),y=t("<div/>"),g=t("<img/>").on("load",r).on("error",n).attr("src",p).css({visibility:"hidden",width:"auto",height:"auto",transition:d.transition}),m=0,w=0,x=v[0]===t("BODY")[0],Y=x?Math.max(t("BODY").scrollTop(),t(o).scrollTop()):v.scrollTop(),b=x?Math.max(t("BODY").scrollLeft(),t(o).scrollLeft()):v.scrollLeft(),B=v[0].style.overflowX,C=v[0].style.overflowY,D=v[0].style.position;try{(x?t(o):v).on("resize",a).trigger("resize")}catch(O){return void d.onerror(p)}x||v.css("position","relative"),v.css({"overflow-x":"hidden","overflow-y":"hidden"}),y.on("mousemove.imageCursorZoom",function(o){c(o.pageX,o.pageY)}).on("click.imageCursorZoom",f).css({overflow:"hidden",position:"absolute",left:b,top:Y,background:"white",width:"100%",height:"100%","z-index":9999}).append(g).appendTo(v)}t.fn.imageCursorZoom=function(o){return this.on("click.imageCursorZoom",function(){e(this,o)})}}(window,jQuery);

/**
 * jquery.imageCursorZoom
 * jQuery Plugin
 *
 * @author bitofsky@neowiz.com
 * @since 2015.09.10
 * @see https://github.com/bitofsky/jquery.imagecursorzoom
 * @license MIT
 * @version 1.0
 */
"use strict";!function(o){function t(t,i){function n(){c(0,0),v.attr("src",t.src),s()}function r(){u=this.clientWidth||v.width(),h=this.clientHeight||v.height(),s()}function s(){c(0,0),v.css({visibility:"visible"}),"function"==typeof d.oncreate&&d.oncreate.call(t,v,g)}function c(o,t){var e=l(o,Y,y,u),i=l(t,x,w,h);v.css("transform","translate("+e+"px, "+i+"px)")}function l(o,t,e,i){var n,r,s;return n=o-t,r=n/e>1?1:n/e,r=r>1?1:r,s=(e-i)*r,s=e>i?(e-i)/2:s,s=i>e&&s>0?0:s}function a(o){y=+e(this).width(),w=+e(this).height()}function f(){v.remove(),g.remove(),m[0].style.overflowX=C,m[0].style.overflowY=Z,m[0].style.position=B,"function"==typeof d.ondestroy&&d.ondestroy.call(t)}var u=t.clientWidth,h=t.clientHeight,d=e.extend(!0,{parent:"BODY",src:function(){return this.src},onerror:function(t){o.open(t)},ondestroy:null},i),p="function"==typeof d.src?d.src.call(t):d.src,m=e("function"==typeof d.parent?d.parent.call(t):d.parent),g=e("<div/>"),v=e("<img/>").on("load",r).on("error",n).attr("src",p).css({visibility:"hidden",width:"auto",height:"auto",transition:d.transition}),y=0,w=0,b=m[0]===e("BODY")[0],x=b?Math.max(e("BODY").scrollTop(),e(o).scrollTop()):m.scrollTop(),Y=b?Math.max(e("BODY").scrollLeft(),e(o).scrollLeft()):m.scrollLeft(),C=m[0].style.overflowX,Z=m[0].style.overflowY,B=m[0].style.position;try{(b?e(o):m).on("resize",a).trigger("resize")}catch(D){return void d.onerror(p)}b||m.css("position","relative"),m.css({"overflow-x":"hidden","overflow-y":"hidden"}),g.on("mousemove.imageCursorZoom",function(o){c(o.pageX,o.pageY)}).on("click.imageCursorZoom",f).css({overflow:"hidden",position:"absolute",left:Y,top:x,background:"white",width:"100%",height:"100%","z-index":9999}).append(v).appendTo(m)}var e=o.jQuery,i=o.define;e.imageCursorZoom=t,e.fn.imageCursorZoom=function(o){return this.on("click.imageCursorZoom",function(){t(this,o)})},i&&i.amd&&i("imageCursorZoom",[],function(){return t})}("undefined"!=typeof global?global:this);
